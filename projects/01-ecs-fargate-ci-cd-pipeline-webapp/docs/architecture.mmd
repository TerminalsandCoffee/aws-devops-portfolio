flowchart TB
    subgraph CI_CD ["CI/CD Pipeline (GitHub Actions)"]
        direction TB
        Code[Developer Push] -->|Triggers| Workflow
        subgraph Workflow ["Build & Deploy Workflow"]
            Build[Build Docker Image]
            Push[Push to ECR]
            IaC[Terraform Apply]
        end
        Build --> Push
        Push --> IaC
    end

    subgraph AWS ["AWS Cloud (us-east-1)"]
        style AWS fill:#f9f9f9,stroke:#333,stroke-width:2px
        
        subgraph VPC ["VPC (10.10.0.0/16)"]
            style VPC fill:#e1f5fe,stroke:#0277bd,stroke-width:2px
            
            subgraph Public_Subnets ["Public Subnets (Multi-AZ)"]
                style Public_Subnets fill:#e0f2f1,stroke:#00695c,stroke-dasharray: 5 5
                
                ALB[Application Load Balancer]
                style ALB fill:#ff9800,stroke:#e65100,color:white
                
                ECS_Service["ECS Fargate Service\n(flask-ecs-demo)"]
                style ECS_Service fill:#4caf50,stroke:#1b5e20,color:white
            end
        end
        
        ECR[Amazon ECR]
        style ECR fill:#9c27b0,stroke:#4a148c,color:white
        
        CloudWatch[CloudWatch Logs]
        style CloudWatch fill:#607d8b,stroke:#263238,color:white
    end

    %% Data Flow
    User((Users)) -->|HTTP/80| ALB
    ALB -->|Traffic :5000| ECS_Service
    
    %% CI/CD Integrations
    Push -.->|Images| ECR
    IaC -.->|Manage| AWS
    
    %% Service Integrations
    ECS_Service -->|Pull Image| ECR
    ECS_Service -.->|Logs| CloudWatch
